Excellent 🔥⚙️

Here’s your **🛠️ Forge Plan for Hephaestus** — a roadmap for transforming your **Dell OptiPlex 7040** into a powerful, fireproof homelab that forges containers, hosts your websites, and manages uptime and metrics — all without melting down like poor Icarus.

---

## ⚙️ **Phase 1: Preparation**

**Goal:** Awaken Hephaestus — the forge of your network.

### 1. Wipe and Install Ubuntu Server 24.04 LTS

You’ll do a _clean install_ to replace Windows entirely.

**Steps:**

1. On your main PC, download the ISO:  
    👉 [https://ubuntu.com/download/server](https://ubuntu.com/download/server)
    
2. Plug in a 4GB+ USB stick.
    
3. Use **Rufus** (Windows) or `dd` (Linux) to write the ISO:
    
    ```bash
    sudo dd if=~/Downloads/ubuntu-24.04-live-server-amd64.iso of=/dev/sdX bs=4M status=progress
    ```
    
4. Insert the USB into the 7040 and power on.
    
5. Press **F12** → choose the USB drive to boot.
    
6. Select **Install Ubuntu Server** and:
    
    - **Erase disk and install Ubuntu** (replaces Windows)
        
    - Set hostname: `hephaestus`
        
    - Enable **OpenSSH server** during setup
        
    - User:
        
        ```
        username: chris
        password: <your password>
        ```
        
    - Reboot after install and remove USB.
        

---

## 🔐 **Phase 2: System Hardening & Setup**

**Goal:** Turn the forge into a secure, steady workstation.

```bash
sudo apt update && sudo apt upgrade -y
sudo apt install curl git ufw fail2ban htop -y

sudo ufw allow OpenSSH
sudo ufw enable
sudo systemctl enable ssh
```

### (Optional) Assign static IP (e.g., `192.168.50.70`)

```bash
sudo nano /etc/netplan/01-netcfg.yaml
```

Example:

```yaml
network:
  version: 2
  ethernets:
    enp3s0:
      dhcp4: no
      addresses: [192.168.50.70/24]
      gateway4: 192.168.50.1
      nameservers:
        addresses: [1.1.1.1,8.8.8.8]
```

Then:

```bash
sudo netplan apply
```

---

## 🧰 **Phase 3: Docker & Core Tools**

**Goal:** Arm Hephaestus with the tools of creation.

```bash
curl -fsSL https://get.docker.com | sudo sh
sudo usermod -aG docker $USER
newgrp docker

sudo apt install docker-compose-plugin -y
docker run hello-world
```

---

## 🧱 **Phase 4: Forge Stack (Core Containers)**

**Goal:** Replicate and expand your NASty setup.

### 🧩 Base Stack

|Container|Role|Ports|
|---|---|---|
|🕒 Uptime Kuma|Monitors all your sites|3001|
|🧭 Portainer|Docker management UI|9443|
|⚙️ Watchtower|Auto-updates containers|—|
|🌐 Nginx Proxy Manager _(optional)_|Host public websites with HTTPS|80 / 81 / 443|

All inside `/srv/hephaestus/compose/docker-compose.yml`

---

## ⚒️ **Phase 5: Networking & Access**

**Goal:** Forge strong connections and easy management.

### SSH Config (from Prometheus / main PC)

Create key:

```bash
ssh-keygen -t ed25519 -f ~/.ssh/Hephaestus
```

Add to config:

```
Host Hephaestus
    HostName 192.168.50.70
    User chris
    IdentityFile ~/.ssh/Hephaestus
    IdentitiesOnly yes
```

### Access points

|Service|URL|
|---|---|
|Uptime Kuma|[http://192.168.50.70:3001](http://192.168.50.70:3001/)|
|Portainer|[https://192.168.50.70:9443](https://192.168.50.70:9443/)|
|Nginx Proxy Manager|[http://192.168.50.70:81](http://192.168.50.70:81/)|

---

## 🔥 **Phase 6: Optional Enhancements (The Forge Expands)**

|Add-On|Benefit|
|---|---|
|**Grafana + Prometheus**|Full system metrics and visual dashboards|
|**Glances**|Live terminal system monitor (`docker run nicolargo/glances`)|
|**Cloudflare Tunnel**|Secure HTTPS access without port forwarding|
|**Pi-hole**|Local DNS and ad-blocking|
|**Nextcloud**|Personal cloud storage|
|**Postgres / MySQL**|For hosting databases for your sites|

---

## 🧠 **Phase 7: Maintenance and Stability**

- Use **Watchtower** to auto-update images nightly.
    
- Run:
    
    ```bash
    docker system prune -f
    ```
    
    weekly to clear space.
    
- Configure Uptime Kuma to monitor itself and your other hosts.
    
- Regularly check logs:
    
    ```bash
    docker logs <container_name> --since=1h
    ```
    

---

## 🌍 **Phase 8: Future Growth**

Hephaestus will become your **central homelab node**.  
Once you get your rack server:

- Promote Hephaestus → _Forge Node #1 (builder / staging)_
    
- Add rack server as _Atlas_ (production, long-term hosting)
    
- Use Portainer to deploy stacks between them.
    

---

Would you like me to generate the **`docker-compose.yml`** next — customized for **Hephaestus**, including:

- Portainer
    
- Uptime Kuma
    
- Watchtower
    
- Nginx Proxy Manager
    
- And optional Grafana + Prometheus monitoring stack for this stronger machine?