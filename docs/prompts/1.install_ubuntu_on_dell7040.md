## 🧭 Device Name - Hephaestus



---

## 🧱 `install_ubuntu_on_dell7040.md`

````markdown
# 🧠 Hephaestus Build Guide
## Installing Ubuntu Server 24.04 LTS on Dell OptiPlex 7040

A step-by-step guide to transform your Dell 7040 into a homelab powerhouse.

---

## 🧩 1. Prepare the hardware

### Recommended specs
- **CPU:** Intel i5 or i7 (7040 supports up to 6th Gen)
- **RAM:** 8–32 GB DDR4
- **Storage:** SSD (recommended), optional HDD for data
- **Network:** Ethernet connection (more stable than Wi-Fi)

---

## 💾 2. Create a bootable Ubuntu USB

### On your main PC:
1. Download **Ubuntu Server 24.04 LTS**:
   - https://ubuntu.com/download/server
2. Insert a **USB drive (≥ 4GB)** and back up its contents.
3. Use one of these tools to create the boot media:
   - **Windows:** [Rufus](https://rufus.ie/)
   - **Linux/macOS:** Run in terminal:
     ```bash
     sudo dd if=~/Downloads/ubuntu-24.04-live-server-amd64.iso of=/dev/sdX bs=4M status=progress
     ```
     Replace `/dev/sdX` with your USB drive (check with `lsblk`).

4. Safely eject the USB.

---

## ⚙️ 3. Boot and install Ubuntu Server

1. Insert the USB into the Dell 7040.
2. Power on and **press F12** repeatedly to open the **Boot Menu**.
3. Choose your USB drive.
4. When prompted:
   - Choose **Install Ubuntu Server**.
   - Select **English**, your **region**, and **keyboard layout**.
   - Connect to your **Ethernet network**.
   - Choose **Use Entire Disk** to **replace Windows** (⚠ this will wipe all data).
   - Set your **hostname**:  
     👉 `hephaestus`
   - Create your main user:
     ```
     Username: chris
     Password: <your secure password>
     ```
   - Check “Install OpenSSH server” (important for remote access).
   - Leave other snaps/packages unselected for now.

5. After installation completes:
   - Remove the USB when prompted.
   - Reboot into Ubuntu.

---

## 🔐 4. First login & system setup

Login via monitor/keyboard or SSH:
```bash
ssh chris@<local_ip>   # or 'ssh chris@hephaestus.local' if mDNS works
````

Then run:

```bash
sudo apt update && sudo apt upgrade -y
sudo apt install curl git ufw fail2ban htop -y

# Enable the firewall and allow SSH
sudo ufw allow OpenSSH
sudo ufw enable
sudo systemctl enable ssh
```

(Optional) Set static IP via `netplan`:

```bash
sudo nano /etc/netplan/01-netcfg.yaml
```

Example config:

```yaml
network:
  version: 2
  ethernets:
    enp3s0:
      dhcp4: no
      addresses: [192.168.50.70/24]
      gateway4: 192.168.50.1
      nameservers:
        addresses: [1.1.1.1, 8.8.8.8]
```

Then apply:

```bash
sudo netplan apply
```

---

## 🐋 5. Install Docker and Compose

```bash
curl -fsSL https://get.docker.com | sudo sh
sudo usermod -aG docker $USER
newgrp docker

sudo apt install docker-compose-plugin -y
docker run hello-world
```

---

## 🧰 6. Create project folders

```bash
sudo mkdir -p /srv/hephaestus/{compose,uptime-kuma,portainer-data,npm-data,npm-letsencrypt}
sudo chown -R $USER:$USER /srv/hephaestus
```

---

## ⚙️ 7. Add your Docker stack

Copy the `docker-compose.yml` from your Icarus plan (or request an updated one for Hephaestus).  
Then run:

```bash
cd /srv/hephaestus/compose
docker compose pull
docker compose up -d
```

---

## 🧭 8. Verify your setup

- **Uptime Kuma:** [http://192.168.50.70:3001](http://192.168.50.70:3001/)
    
- **Portainer:** [https://192.168.50.70:9443](https://192.168.50.70:9443/)
    
- **NPM:** [http://192.168.50.70:81](http://192.168.50.70:81/)
    

---

## 🧠 9. Post-install (optional but recommended)

```bash
sudo apt install unattended-upgrades -y
sudo dpkg-reconfigure unattended-upgrades
```

Enable automatic security patches and weekly reboots.

---

## ✅ 10. SSH config (from your main PC)

Add this to `~/.ssh/config`:

```
Host Hephaestus
    HostName 192.168.50.70
    User chris
    IdentityFile ~/.ssh/Hephaestus
    IdentitiesOnly yes
```

Then test:

```bash
ssh Hephaestus
```

---

## ☀️ Done!

Hephaestus is now fully operational as your primary homelab node.

**Next steps:**

- Migrate Uptime Kuma from Athena.
    
- Host Magic Pages / Capitol Scope / Portfolio on it.
    
- Add Grafana & Prometheus for monitoring.
    
- Optionally join Icarus (Surface Go) as a satellite node later.
    
